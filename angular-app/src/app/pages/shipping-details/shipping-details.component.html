<div id="cd-cart" class="angular-app h-100" style="right: 0">
	<div *ngIf="addAddress || (addresses && addresses.length)" class="kss_shipping slide-out slide-show custom-padding">
		<!-- svg loader -->
	    <div class="cart-loader__wrapper">
	        <svg width="45px" height="45px" viewBox="0 0 45 45" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
	            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
	                <g id="kss-logo" transform="translate(-5.000000, -10.000000)" fill-rule="nonzero">
	                    
	                    <path id="rotate-svg" class="rotate-svg" d="M27.8946347,46.5232675 L21.5070634,50.3660438 C19.6140816,51.5048656 17.1563192,50.8934981 16.0174974,49.0005163 C15.5006912,48.1414665 15.3253073,47.1196702 15.5260735,46.1374542 L17.1622985,38.132492 C17.4405678,36.7711053 16.992381,35.3628434 15.9784564,34.4127042 L10.0063074,28.8162597 C8.39432901,27.3056899 8.31212108,24.7743646 9.82269081,23.1623862 C10.4760803,22.4651329 11.3574906,22.0248185 12.3074007,21.9211327 L20.0007408,21.0813795 C21.4371658,20.924589 22.6773683,20.005287 23.2450637,18.6765199 L26.278296,11.5768346 C27.1462238,9.54533357 29.4966753,8.60207111 31.5281763,9.46999893 C32.475566,9.87475672 33.2302542,10.6294449 33.635012,11.5768346 L36.6682442,18.6765199 C37.2359397,20.005287 38.4761421,20.924589 39.9125671,21.0813795 L47.6059072,21.9211327 C49.8020023,22.1608437 51.387965,24.1354546 51.1482541,26.3315497 C51.0445683,27.2814599 50.6042539,28.1628701 49.9070005,28.8162597 L43.9348516,34.4127042 C42.920927,35.3628434 42.4727402,36.7711053 42.7510094,38.132492 L44.3872344,46.1374542 C44.8296381,48.3018419 43.4336943,50.4150639 41.2693066,50.8574676 C40.2870907,51.0582339 39.2652944,50.88285 38.4062445,50.3660438 L32.0186733,46.5232675 C30.7499425,45.7599965 29.1633654,45.7599965 27.8946347,46.5232675 Z" fill="#EEBD38" transform="translate(29.956819, 30.043213) rotate(45.000000) translate(-29.956819, -30.043213) ">
	                    </path>

	                    <g id="kid-1" transform="translate(21.000000, 39.000000) rotate(42.000000) translate(-21.000000, -39.000000) translate(9.000000, 22.000000)">
	                        <path d="M12.0236338,33.3545849 C6.36381704,33.5274198 3.02449287,31.8962804 2.00566137,28.4611667 C0.984113969,25.016896 0.52935912,21.5802009 0.641396817,18.1510813 L0.641396817,13.2626501 C0.772552654,12.6239381 1.14166148,12.293108 1.74872328,12.2701598 C2.35578508,12.2472116 2.75594153,12.5780417 2.94919262,13.2626501 L2.9848153,22.0662885 C2.97943914,22.9052903 3.29705834,23.3278422 3.93767288,23.3339442 C4.57828743,23.340046 4.93558982,22.9103244 5.00958002,22.0447788 C5.00056745,10.0374472 4.99606117,3.29079539 4.99606117,1.80482349 C4.72101691,-0.37617077 7.81732007,-0.785899445 7.83466946,1.72030787 C7.87891993,3.1369457 7.86420094,2.65246385 7.97499955,6.49615695 C8.04882657,9.05727337 9.3909336,10.6246089 12.0013208,11.1981637 L12.0013373,11.1908574 C14.4879162,10.6235191 15.7681386,9.05861902 15.8420043,6.49615695 C15.952803,2.65246385 15.9380839,3.1369457 15.9823345,1.72030787 C15.9996838,-0.785899445 19.095987,-0.37617077 18.8209427,1.80482349 C18.8209427,3.29079539 18.8209427,10.2811581 18.8209427,22.7759116 C18.894933,23.641457 19.2522354,24.0711787 19.8928499,24.0650769 C20.5334644,24.0589749 20.8510837,23.636423 20.8457075,22.7974212 L20.8678113,13.2626501 C21.0610624,12.5780417 21.4612189,12.2472116 22.0682807,12.2701598 C22.6753424,12.293108 23.0444513,12.6239381 23.1756071,13.2626501 L23.1756071,18.1510813 C23.4895355,22.8488963 22.7365691,26.7863911 20.9167079,29.9635662 C19.2191229,32.570394 16.2547649,33.7007335 12.0236338,33.3545849 Z" id="Combined-Shape" fill="#FFFFFF"></path>
	                        <rect id="Rectangle-4" fill="#EEBD38" x="10.697193" y="21.8670291" width="1.98867373" height="7.55775543" rx="0.952906158"></rect>
	                        <rect id="Rectangle-4-Copy" fill="#EEBD38" x="6.26086957" y="19.5757576" width="1.98867373" height="7.55775543" rx="0.952906158"></rect>
	                        <rect id="Rectangle-4-Copy" fill="#EEBD38" x="6.26086957" y="19.5757576" width="1.98867373" height="7.55775543" rx="0.952906158"></rect>
	                        <rect id="Rectangle-4-Copy-2" fill="#EEBD38" x="14.8255779" y="19.7791794" width="1.98867373" height="7.55775543" rx="0.952906158"></rect>
	                        <ellipse id="Oval-3" fill="#FFFFFF" cx="12" cy="6.6969697" rx="2.60869565" ry="2.57575758"></ellipse>
	                    </g>
	                </g>
	            </g>
	        </svg>
	    </div>	
		<div class="scroll-container">
			<nav class="navbar navbar-dark bg-dark pt-3 pb-3 ">
				<div class="d-flex align-items-center w-100">
					<div class="">
						<a>
							 <img src="/img/logo-kss.png" xpreview="/img/logo-kss.png" class=" img-fluid m-0" width="180px">
					 </a>
					</div>
					<div class="ml-auto align-self-center">
						<h3 class="m-0 text-white kss_highlight btn-pay" (click)="closeCart()"><span aria-hidden="true">&times;</span></h3>
					</div>
				</div>
				<!--   <div class="row no-gutters w-100">
						<div class="col-8 col-xl-9">
						<img src="{{"img/logo-kss.png" | absURL}}" xpreview="{{"img/logo-kss.png" | absURL}}" class=" img-fluid m-0" width="180px">
						 </div>
						 <div class="col text-white secure-label">
							<i class="fas fa-lock float-left mr-2"></i>SECURE<br>
							CHECKOUT
						 </div>
					</div> -->
			</nav>
			<div class="py-3 px-3 padding-size">	
				<div class="row no-gutter">
					<div class="col-1">
		             <h3 class="m-0 font-weight-bold back-to-cart">
		               <img (click)="navigateBack()" class="btn-back kss_highlight" src="/img/left-arrow.png" style="width:20px;">
		             </h3>
		           </div>
					<div class="col-7">
						<h3 class="modal-title font-weight-bold" id="exampleModalLabel">Ship To</h3>
					</div>
					<div class="col-4 text-right">
						<h6 class="text-muted mt-2">STEP: 1 / 2</h6>
					</div>
				</div>
				<hr>
				<form #myForm="ngForm">
					<div class="shipping-content" *ngIf="addAddress">
						<div class="row">
							<div class="col-md-12">
								<!--firstName-->
								<div class="form-group ">
									<input class="form-control form-control-lg" id="names" type="text" name="name" [(ngModel)]="newAddress.name" required [ngClass]="{'has-value' : newAddress.name}">
									<label class="control-label">Full Name <span class="pl-1 text-danger">*</span></label>
								</div>
							</div>
							<div class="col-md-12">
								<div class="form-group" [ngClass]="{'has-error' : newAddress.phone<7000000000 && newAddress.phone.length== 10 }">
									<input class="form-control form-control-lg" id="mobile" type="tel" minlength = "10" maxlength = "10" pattern="^[789]\d{9}$" inputmode="numeric" name="mobile" for="inputError" [(ngModel)]="newAddress.phone" required appNumbers [ngClass]="{'has-value' : newAddress.phone}">
									 <label class="control-label" for="inputError">Mobile Number <span class="pl-1 text-danger">*</span></label>
									 <small *ngIf="newAddress.phone<7000000000 && newAddress.phone.length== 10" id="passwordHelpBlock" class="form-text text-danger">
										Please enter a valid Indian Mobile Number
									</small>
								</div>
							</div>
<!-- 							<div class="col-md-12">
								<div class="form-group">
									<input class="form-control form-control-lg" id="email-address" type="email" name="email" [(ngModel)]="newAddress.email" required [ngClass]="{'has-value' : newAddress.email}">
									<label class="control-label">Email Address <span class="pl-1 text-danger">*</span></label>
								</div>
							</div>		 -->					
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group ">
									<input class="form-control form-control-lg" id="pincode" type="tel"  minlength = "6" maxlength = "6" name="pincode" [(ngModel)]="newAddress.pincode" required appNumbers inputmode="numeric" [ngClass]="{'has-value' : newAddress.pincode}">
									<label class="control-label">Pincode <span class="pl-1 text-danger">*</span></label>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<input class="form-control form-control-lg" id="locality" type="text" name="locality" [(ngModel)]="newAddress.locality" required [ngClass]="{'has-value' : newAddress.locality}">
									<label class="control-label">Locality/Town <span class="pl-1 text-danger">*</span></label>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<div class="form-group ">
									<textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="address" [(ngModel)]="newAddress.address" required [ngClass]="{'has-value' : newAddress.address}"></textarea>
									<label class="control-label">Street Address (<small>House No,Building,Street,Area</small>) <span class="pl-1 text-danger">*</span></label>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="form-group ">
									<input class="form-control form-control-lg" id="citys" type="text" name="city" [(ngModel)]="newAddress.city" required [ngClass]="{'has-value' : newAddress.city}">
									<label class="control-label">City/District <span class="pl-1 text-danger">*</span></label>
								</div>
							</div>
							<div class="col-md-6">
		<!-- 						<div class="form-group">
									<input class="form-control form-control-lg" id="state" type="text" name="state" [(ngModel)]="newAddress.state" required [ngClass]="{'has-value' : newAddress.state}">
									<label class="control-label">State<span class="pl-1 text-danger">*</span></label>
								</div> -->
								<div class="form-group custom-bs-select">
									<select name="" id="state" class="form-control form-control-lg has-value"  name="state" data-style="form-control" [(ngModel)]="newAddress.state_id" required data-live-search="true">
										<option value="">--Select--</option>
										<option *ngFor="let state of states" value="{{state.id}}">{{state.state}}</option>
									</select>
									<label class="control-label">State <span class="pl-1 text-danger">*</span></label>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<div class="form-group ">
									<input type="text" class="form-control form-control-lg" id="landmark" name="landmark" [(ngModel)]="newAddress.landmark" [ngClass]="{'has-value' : newAddress.landmark}">
									<label class="control-label">Landmark</label>
								</div>
							</div>
						<!-- 	<div class="col-md-6">
								<div class="form-group custom-select-drop">
									<select name="type" id="address_type" class="form-control form-control-lg has-value" [(ngModel)]="newAddress.type" required>
										<option value="">--Select--</option>
										<option value="Home">Home</option>
										<option value="Office">Office</option>
									</select>
									<label class="control-label">Type of address <span class="pl-1 text-danger">*</span></label>
								</div>
							</div>	 -->						
						</div>
						<div *ngIf="!hideDefaultAddressField && addresses.length" class="row mt-4 mb-3">
							<div class="col-md-12">
								<div class="custom-control custom-checkbox">
									<input type="checkbox" class="custom-control-input" id="customCheck1" name="default" [(ngModel)]="newAddress.default">
									<label class="custom-control-label" for="customCheck1">Make this my default address</label>
								</div>
							</div>
						</div>
					</div>	
				</form>
			

				<div *ngIf="!addAddress && addresses" class="shipping-content-info" style="display: block;">
					<div class="radio-wrap d-flex kss_sizes wo-image mb-4">
						<div *ngFor="let address of addresses">
							<input class="d-none radio-input" type="radio" name="kss-address" id="address-{{address.id}}" [value]="address.id" [(ngModel)]="selectedAddressId">
							<label class="radio-label w-100 border-bottom text-left" for="address-{{address.id}}">
								<div class="radio-option d-flex align-items-start address-block">
									<div class="radio-selection position-relative">
									 	<i class="fas fa-check-circle"></i>
									</div>
									<div class="text-left pl-2 flex-fill">
										<h3 class="kss-title font-weight-bold d-flex align-items-center w-100">{{address.name}} <span *ngIf="address.default" class="pl-2">(Default)  </span> <!-- <i class="fas fa-pencil-alt number-edit ml-2" (click)="editAddress(address)"></i> --></h3>

										<p class="w-75">
											{{address.address}}, {{address.city}}, {{getStateName(address.state_id)}} {{address.pincode}}
										</p>
										<p class="w-75">
											Mobile: <b class="font-weight-bold">{{address.phone}}</b>
										</p>
									</div>
									<div class="product-delete ml-2" title="Remove">
										<a (click)="deleteAddress(address.id)" class="cd-item-remove delete d-flex align-items-center justify-content-center text-center">
											<i class="far fa-trash-alt"></i>
										</a>
									</div>
								</div>
							</label>
						</div>
					</div>
					<button type="button" id="add-address" class="btn kss-btn kss-btn--outline-secondary kss-btn--big" (click)="addNewAddress()">Add A New Address</button>
				</div>

				<div class="seperator mt-2 mb-2"></div>

				<div class="fixed-bottom d-block pl-3 pr-3">
					<div *ngIf="addAddress" class="row no-gutters px-2 py-2 shipping-state-1" style="display: flex;">
						<div class="col-6 text-center">
							<button [disabled]="!addresses.length" type="button" class="shipping-details-save btn kss-btn kss-btn--link kss-btn--big mt-1 mb-1 ml-auto mr-auto" (click)="addAddress = false" >Cancel </button>
						</div>
						<div class="col-6 text-center">
							<button [disabled]="!myForm.valid"  type="button" class="shipping-details-save btn kss-btn kss-btn--big mt-1 mb-1 ml-auto mr-auto" (click)="saveNewAddress()"> Save </button>
						</div>
					</div>
					 <div *ngIf="!addAddress && addresses" class="row no-gutters py-2 shipping-state-2" style="display: flex;">
						<div class="col-12 text-center">
							<button id="shipping-summary" type="button" class=" btn kss-btn kss-btn--big mt-1 mb-1" (click)="navigateToShippingPage()">Proceed</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>	
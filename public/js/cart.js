function openCart(){loadAngularApp(),$("#main-nav").removeClass("speed-in"),$("#cd-cart").addClass("speed-in"),$("#cd-shadow-layer").addClass("is-visible"),$("body").addClass("hide-scroll")}function updateCartCountInUI(){var e=getCookie("cart_count");e&&"0"!=e?($(".cart-counter").removeClass("d-none"),$(".cart-counter").addClass("d-block"),$("#output").html(function(t,a){return e})):($(".cart-counter").addClass("d-none"),$(".cart-counter").removeClass("d-block"))}function set_cart_data(e){var t=sessionStorage.getItem("cart_data");if(t)t=JSON.parse(t);else var t=new Array;t.push(e),sessionStorage.setItem("cart_data",JSON.stringify(t))}function loadAngularApp(){loaded||$.when($.getScript("/views/cart/inline.bundle.js"),$.getScript("/views/cart/polyfills.bundle.js"),$.getScript("/views/cart/styles.bundle.css"),$.getScript("/views/cart/vendor.bundle.js"),$.Deferred(function(e){$(e.resolve)})).done(function(){$.getScript("/views/cart/main.bundle.js"),loaded=!0})}function isLoggedInUser(){return!(!getCookie("token")||!getCookie("cart_id"))}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie),s=a.split(";"),r=0;r<s.length;r++){for(var o=s[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}$(document).ready(function(){function e(){t=setTimeout(function(){$(".kss-alert").removeClass("is-open"),$(".kss-alert").removeClass("kss-alert--success"),$(".kss-alert").removeClass("kss-alert--failure")},4500)}updateCartCountInUI();var t;$(".cd-add-to-cart").on("click",function(){var t=this;if(!$(t).hasClass("cartLoader"))if($(".cd-add-to-cart .btn-label-initial").addClass("d-none"),$(".cd-add-to-cart .btn-label-initial").removeClass("d-flex"),$(".cd-add-to-cart .btn-icon").show(),$(t).addClass("cartLoader"),sessionStorage.setItem("add_to_cart_clicked","true"),openCart(),0==$("input[type=radio][name=kss-sizes]:checked").length)jQuery(".kss_sizes").addClass("shake"),setTimeout(function(){jQuery(".kss_sizes").removeClass("shake")},200);else{var a=isLoggedInUser()?"/api/rest/v1/user/cart/"+getCookie("cart_id")+"/insert":"/rest/anonymous/cart/insert",s=$('meta[name="csrf-token"]').attr("content"),r={_token:s,variant_id:$("input[type=radio][name=kss-sizes]:checked")[0].dataset.variant_id,variant_quantity:1};$.ajax({url:a,type:"POST",headers:{Authorization:isLoggedInUser()?"Bearer "+getCookie("token"):""},data:r,dataType:"JSON",success:function(a){$(".cd-add-to-cart .btn-icon").hide(),$(".cd-add-to-cart .btn-label-initial").addClass("d-flex"),$(".cd-add-to-cart .btn-label-initial").removeClass("d-none"),document.cookie="cart_count="+a.cart_count+";path=/",sessionStorage.setItem("addded_to_cart","true"),updateCartCountInUI(),$(t).removeClass("cartLoader"),e()},error:function(a,s,r){var o=""!=a.responseJSON.message?a.responseJSON.message:"Could not add to bag";$(".cd-add-to-cart .btn-icon").hide(),$(".cd-add-to-cart .btn-label-initial").addClass("d-flex"),$(".cd-add-to-cart .btn-label-initial").removeClass("d-none"),$(".kss-alert .message").html("<strong>Failed!!!</strong> "+o),$(".kss-alert").addClass("kss-alert--failure"),$(".kss-alert").addClass("is-open"),$(t).removeClass("cartLoader"),e(),sessionStorage.setItem("addded_to_cart","false")}})}}),$(".kss-alert .close").on("click",function(){$(".kss-alert").removeClass("is-open"),t&&clearTimeout(t)}),$('[data-toggle="tooltip"]').tooltip(),jQuery("#cd-cart-trigger").click(function(){openCart()})}),$(".select-size button").click(function(){}),loaded=!1;